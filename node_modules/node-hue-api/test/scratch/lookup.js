//var hue = require("../../"),
//    timeout = 2000; // 2 seconds
//
//var displayBridges = function(bridge) {
//    console.log("Hue Bridges Found: " + JSON.stringify(bridge));
//};
//
//for (var i = 0; i < 20; i++) {
//    hue.upnpSearch(timeout)
//        .then(displayBridges)
//        .done();
//}

var HueApi = require("../..").HueApi;

var hostname = "192.168.2.245";
var token = "08a902b95915cdd9b75547cb50892dc4";

var api = new HueApi(hostname, token);

api.lights(function(err, result) {
    console.log("Get Light Status of all");
    for (var i = 0; i < result.lights.length; i++) {

        console.error("Lookup: " + i);

        api.lightStatus(result.lights[i].id, function(err, result) {
            if (err) throw err;
        });
    }
});